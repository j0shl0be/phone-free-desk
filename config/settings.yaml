# Phone Free Desk Configuration

# Hardware GPIO Pins
gpio:
  servo_1: 17  # First servo (base rotation)
  servo_2: 18  # Second servo (arm tilt)
  pump: 23     # Water pump relay

# Servo Configuration
servo:
  # Servo 1 angles (degrees, 0-180)
  servo_1_rest: 90
  servo_1_spray: 45

  # Servo 2 angles (degrees, 0-180)
  servo_2_rest: 90
  servo_2_spray: 120

  # Movement speed (seconds to reach position)
  movement_duration: 1.0

# Pump Configuration
pump:
  spray_duration: 2.0  # seconds
  cooldown_period: 10.0  # seconds between sprays

# Vision Configuration
camera:
  device_index: 0  # USB camera device (usually /dev/video0)
  width: 640
  height: 480
  fps: 10

# Detection sensitivity
vision:
  # YOLOv8 model selection (for phone detection only)
  model: 'yolov8n.pt'  # Options: 'yolov8n.pt' (COCO) or path to custom model

  # Confidence thresholds (0-1)
  phone_confidence: 0.3  # YOLOv8 phone detection (lower = more sensitive)
  hand_confidence: 0.7   # MediaPipe hand detection
  face_confidence: 0.7   # MediaPipe face detection

  # Performance optimization (phone is stationary, hands move fast)
  phone_cache_duration: 30.0  # Cache phone position for N seconds (stays valid even if occluded)
  yolo_imgsz: 320  # YOLOv8 image size (320 = fast, 640 = accurate, lower = faster)

  min_detection_frames: 3  # Consecutive frames needed to trigger

  # Debug mode - prints all detections to console
  debug: false
  show_timing: false  # Show processing time for each component

# API Configuration
api:
  host: "0.0.0.0"  # Listen on all interfaces
  port: 8000

# Kinematics Calibration
# Maps camera coordinates to servo angles for accurate targeting
# These should be calibrated using scripts/calibrate_kinematics.py
kinematics:
  corners:
    # Top-left corner of camera view
    top_left:
      cam_x: 0.0
      cam_y: 0.0
      servo1: 60   # Servo 1 angle to aim here
      servo2: 120  # Servo 2 angle to aim here

    # Top-right corner of camera view
    top_right:
      cam_x: 1.0
      cam_y: 0.0
      servo1: 120
      servo2: 120

    # Bottom-left corner of camera view
    bottom_left:
      cam_x: 0.0
      cam_y: 1.0
      servo1: 60
      servo2: 80

    # Bottom-right corner of camera view
    bottom_right:
      cam_x: 1.0
      cam_y: 1.0
      servo1: 120
      servo2: 80
